<!DOCTYPE html>
<html>
<head>
  <title>Registro de Producto</title>
</head>
<body>
  <h1>Registro de Producto</h1>

  <form id="productoForm">
    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre" required><br>

    <label for="precio">Precio:</label>
    <input type="number" step="0.01" id="precio" name="precio" required><br>

    <label for="stock">Stock:</label>
    <input type="number" id="stock" name="stock" required><br>

    <input type="submit" value="Registrar Producto">
  </form>

  <script>
    document.getElementById("productoForm").addEventListener("submit", function(event) {
      event.preventDefault(); // Evita el envío del formulario por defecto

      var form = document.getElementById("productoForm");
    var formData = new FormData(form);
    var jsonData = JSON.stringify(Object.fromEntries(formData));

    fetch("http://localhost:3000/productos", {
    method: "POST",
    body: jsonData,
    headers: {
        "Content-Type": "application/json"
    }
    })
      .then(response => response.json())
      .then(data => {
        console.log("Producto registrado:", data);
        // Hacer algo con la respuesta del servidor, por ejemplo, mostrar un mensaje de éxito
        alert("Producto registrado correctamente");
        form.reset(); // Limpiar el formulario
      })
      .catch(error => {
        console.error("Error al registrar el producto:", error);
        // Hacer algo con el error, por ejemplo, mostrar un mensaje de error
        alert("Error al registrar el producto");
      });
    });
  </script>
</body>
</html>